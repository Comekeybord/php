4、token的生成方式

浏览器第一次访问服务器时，会传过来一个唯一表示ID，服务端通过算法，加密钥，生成一个token。通过BASE64编码后将token发送给客户端。

客户端将token保存起来，下次请求带着token，服务器收到请求会用相同的算法取验证toekn，如果通过就继续执行。

token组成:uid(用户唯一的身份标识)、time(当前时间的时间戳)、sign(签名，由token的前几位+盐以哈希算法压缩成一定长的十六进制字符串，可以防止恶意第三方拼接token请求服务器)。还可以把不变的参数也放进token，避免多次查库

5、token和session的区别

共同点：都是保存了用户身份信息，都有过期时间。

session翻译为会话，token翻译为令牌。

session是空间换时间，token是时间换空间。

session和sessionid：服务器会保存一份，可能保存到缓存/数据库/文件。

token：服务器不需要记录任何东西，每次都是一个无状态的请求，每次都是通过解密来验证是否合法。